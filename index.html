<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin CRUD</title>
    <style>
        #result {
            white-space: pre-line;
        }
    </style>
</head>
<body>
    <h1>Admin CRUD</h1>

    <!-- Listar todos os admins -->
    <button onclick="getAllAdmins()">Listar Admins</button>

    <!-- Listar admin por ID -->
    <label for="adminId">ID do Admin:</label>
    <input type="number" id="adminId" />
    <button onclick="getAdminById()">Buscar Admin por ID</button>

    <!-- Criar novo admin -->
    <h2>Criar Novo Admin</h2>
    <label for="newAdminId">ID do Admin:</label>
    <input type="number" id="newAdminId" />
    <label for="newAdminName">idUsuario: </label>
    <input type="text" id="newAdminName" />
    <button onclick="createAdmin()">Criar Admin</button>

    <!-- Atualizar admin -->
    <h2>Atualizar Admin</h2>
    <label for="updateAdminId">ID do Admin:</label>
    <input type="number" id="updateAdminId" />
    <label for="updateAdminName">Novo idUsuario:</label>
    <input type="text" id="updateAdminName" />
    <button onclick="updateAdmin()">Atualizar Admin</button>

    <!-- Deletar admin -->
    <h2>Deletar Admin</h2>
    <label for="deleteAdminId">ID do Admin:</label>
    <input type="number" id="deleteAdminId" />
    <button onclick="deleteAdmin()">Deletar Admin</button>

    <!-- Mostrar Resultados -->
    <div id="result"></div>

    <script>
        // URL da API
        const apiUrl = 'http://localhost:8000/admin';

        // Função para exibir resultados
        function displayResult(result) {
            const resultDiv = document.getElementById('result');
            resultDiv.textContent = JSON.stringify(result, null, 2);
        }

        // Função para listar todos os admins
        function getAllAdmins() {
            fetch(apiUrl)
                .then(response => response.json())
                .then(data => displayResult(data))
                .catch(error => console.error('Erro:', error));
        }

        // Função para listar admin por ID
        function getAdminById() {
            const adminId = document.getElementById('adminId').value;
            fetch(`${apiUrl}/${adminId}`)
                .then(response => response.json())
                .then(data => displayResult(data))
                .catch(error => console.error('Erro:', error));
        }

        // Função para criar novo admin
        function createAdmin() {
            const newAdminId = document.getElementById('newAdminId').value;
            const newAdminName = document.getElementById('newAdminName').value;
            fetch(`${apiUrl}/createAdmin`, {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ idAdmin: parseInt(newAdminId), idUsuario: 1,idUsuario:  newAdminName }),
            })
                .then(response => response.json())
                .then(data => displayResult(data))
                .catch(error => console.error('Erro:', error));
        }

        // Função para atualizar admin
        function updateAdmin() {
            const updateAdminId = document.getElementById('updateAdminId').value;
            const updateAdminName = document.getElementById('updateAdminName').value;
            fetch(`${apiUrl}/updateAdmin`, {
                method: 'PUT',
                headers: {
                    'Content-Type': 'application/json',
                },
                body: JSON.stringify({ idAdmin: parseInt(updateAdminId), idUsuario: 1,idUsuario:  updateAdminName }),
            })
                .then(response => response.json())
                .then(data => displayResult(data))
                .catch(error => console.error('Erro:', error));
        }

        // Função para deletar admin
        function deleteAdmin() {
            const deleteAdminId = document.getElementById('deleteAdminId').value;
            fetch(`${apiUrl}/${deleteAdminId}`, {
                method: 'DELETE',
            })
                .then(response => response.json())
                .then(data => displayResult(data))
                .catch(error => console.error('Erro:', error));
        }
    </script>
</body>
</html>
